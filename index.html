<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" type="image/svg+xml" href="/logo.svg">
<title>TamilStar</title>

<style>
/* Base styles */
body { font-family: Arial, sans-serif; margin: 0; padding: 1rem; background: #fafafa; color: #222; box-sizing: border-box; }
.site-header { display: flex; justify-content: center; align-items: center; height: 70px; background: #4b77c9; color: white; padding: 0 1rem; }
.site-header h1 { margin: 0; font-size: 28px; text-align: center; }

.search-container { display: flex; flex-direction: column; align-items: center; max-width: 360px; margin: 30px auto; gap: 10px; padding: 0 1rem; }
#searchInput { width: 60%; padding: 12px 15px; font-size: 16px; border: 1px solid #ccc; border-radius: 8px; outline: none; background: #fff; }
.search-container button { padding: 12px; font-size: 16px; width: 100%; background: #4b77c9; color: white; border: none; border-radius: 8px; cursor: pointer; transition: background 0.2s ease; }
.search-container button:hover { background: #0056b3; }
#results { max-width: 100%; margin: 1rem auto; padding: 0 1rem; box-sizing: border-box; }

/* TamilPrint entries */
.M1 { display: flex; flex-direction: row; align-items: flex-start; padding: 0.8rem 0; border-bottom: 1px solid #ddd; gap: 10px; }
.M1 img { width: 80px; height: 60px; object-fit: cover; flex-shrink: 0; border-radius: 4px; }
.M1 .left { flex: 1; flex-direction: column; gap: 4px; overflow: hidden; }
.M1 .left a { font-weight: 500; font-size: 15px; color: #004a99; text-decoration: none; overflow: hidden; text-overflow: ellipsis; }
.M1 .left span.size { font-size: 13px; color: #555; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

/* KuttyMovies */
#years { margin: 15px auto; border-collapse: collapse; width: 90%; max-width: 400px; background: #fff; border: 1px solid #ccc; }
#years td { border-bottom: 1px solid #ccc; padding: 12px; text-align: center; cursor: pointer; background: #fff; color: #0077b6; font-weight: bold; transition: background 0.2s, color 0.2s; }
#years td:hover { background: #0077b6; color: #fff; }
#contentTable { width: 95%; margin: 10px auto; border-collapse: collapse; background: #fff; }
#contentTable td { vertical-align: top; padding: 6px; }
#contentTable img { max-width: 100%; height: auto; border-radius: 6px; }
#contentTable a { color: #4b77c9; font-weight: 300; text-decoration: none; word-break: break-word; display: inline-block; margin: 4px 0; }
#contentTable a:hover { color: #005f86; text-decoration: underline; }
#contentTable a:visited { color: #5a5a5a; }
#backBtn { display: none; margin: 15px auto; padding: 12px 18px; cursor: pointer; background: #4b77c9; color: #fff; border: none; border-radius: 6px; font-size: 15px; font-weight: bold; width: 90%; max-width: 320px; text-align: center; }
#backBtn:hover { background: #005f86; }

/* Loading Dots */
#loadingDots { display: none; justify-content: center; gap: 6px; margin: 20px auto; }
#loadingDots div { width: 12px; height: 12px; background: #8fcff2; border-radius: 50%; animation: bounce 0.6s infinite alternate; }
#loadingDots div:nth-child(2) { animation-delay: 0.2s; }
#loadingDots div:nth-child(3) { animation-delay: 0.4s; }
@keyframes bounce { from { transform: translateY(0); } to { transform: translateY(-10px); } }

/* Custom Alert */
.custom-alert { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.4); display: flex; justify-content: center; align-items: center; z-index: 9999; }
.custom-alert.hidden { display: none; }
.alert-box { background: #fff; padding: 20px 25px; border-radius: 8px; text-align: center; box-shadow: 0 4px 16px rgba(0,0,0,0.2); max-width: 90%; box-sizing: border-box; }
.alert-box button { margin-top: 10px; padding: 10px 16px; background: #e91e63; color: white; border: none; border-radius: 5px; cursor: pointer; }
.alert-box button:hover { background: #d81b60; }

/* Mobile Responsive */
@media (max-width: 480px) {
  .site-header h1 { font-size: 24px; }
  #searchInput { font-size: 15px; padding: 10px 12px; }
  .search-container button { font-size: 15px; padding: 10px; }
  .M1 { flex-direction: row; gap: 8px; }
  .M1 img { width: 90px; height: 110px; }
  .M1 .left a { font-size: 14px; }
  .M1 .left span.size { font-size: 12px; }
}
</style>
</head>
<body>

<header class="site-header">
  <h1 id="animatedTitle">TamilStar</h1>
</header>

<div class="search-container">
  <input type="text" id="searchInput" placeholder="Search Movies...." />
  <button onclick="performSearch()">Search</button>
</div>
<hr/>

<!-- Loading Dots Modal -->
<div id="loadingModal" class="custom-alert hidden">
  <div class="alert-box" style="background:transparent; box-shadow:none;">
    <div id="loadingDots" style="display:flex; justify-content:center; gap:8px;">
      <div style="width:22px; height:22px; background:#8fcff2; border-radius:50%; animation:bounce 0.6s infinite alternate;"></div>
      <div style="width:22px; height:22px; background:#8fcff2; border-radius:50%; animation:bounce 0.6s infinite alternate 0.2s;"></div>
      <div style="width:22px; height:22px; background:#8fcff2; border-radius:50%; animation:bounce 0.6s infinite alternate 0.4s;"></div>
    </div>
  </div>
</div>

<div id="results"></div>

<div id="customAlert" class="custom-alert hidden">
  <div class="alert-box">
    <p id="alertMessage">Alert goes here</p>
    <button onclick="closeAlert()">OK</button>
  </div>
</div>

<table id="years"> 
 <tr><td data-url="2025-tamil-movies.html">Tamil 2025 Movies</td></tr>
 <!-- … rest of years … -->
 <tr><td data-url="2000-tamil-movies.html">Tamil 2000 Movies</td></tr> 
</table>

<table id="contentTable"></table>
<button id="backBtn" onclick="goBackKutty()">Back</button>

<!-- ✅ KuttyMovies Script -->
<script>
const pageHistoryKutty = [];
const baseUrlKutty = "https://kuttymovies.free";

function showLoadingKutty() { document.getElementById('loadingModal').classList.remove('hidden'); }
function hideLoadingKutty() { document.getElementById('loadingModal').classList.add('hidden'); }

function replaceTextContentKutty(container) {
  const walker = document.createTreeWalker(container, NodeFilter.SHOW_TEXT, null, false);
  const regex = /isaiDub(\.io)?/gi;
  let node;
  while(node = walker.nextNode()) {
    node.nodeValue = node.nodeValue.replace(regex, "TamilStar ");
  }
}

function fixImagesKutty(container) {
  container.querySelectorAll("img").forEach(img => {
    let src = img.getAttribute("src");
    if(src && !src.startsWith("http")) img.src = baseUrlKutty + src;
  });
}

async function fetchWithProxiesKutty(fullUrl) {
  const proxyList = [
    url => `https://api.allorigins.win/get?url=${encodeURIComponent(url)}`,
    url => `https://api.codetabs.com/v1/proxy/?quest=${encodeURIComponent(url)}`
  ];
  for(const proxy of proxyList) {
    const apiUrl = proxy(fullUrl);
    try {
      const response = await fetch(apiUrl);
      if(!response.ok) continue;
      if(apiUrl.includes("allorigins")) {
        const data = await response.json();
        return data.contents;
      } else return await response.text();
    } catch(e) { continue; }
  }
  throw new Error("All proxies failed.");
}
</script>

<!-- ✅ TamilPrint Script -->
<script>
const baseUrl = 'https://www.tamilprint49.art/';
function showLoadingModal() { document.getElementById('loadingModal').classList.remove('hidden'); }
function hideLoadingModal() { document.getElementById('loadingModal').classList.add('hidden'); }
function showAlert(message){ document.getElementById('alertMessage').innerText = message; document.getElementById('customAlert').classList.remove('hidden'); }
function closeAlert(){ document.getElementById('customAlert').classList.add('hidden'); }
</script>

<!-- ✅ Platform Switch -->
<div style="text-align:center; margin: 10px;">
  <button id="switchBtn" style="padding:10px 20px; font-size:16px; border-radius:6px; border:none; background:#4b77c9; color:white; cursor:pointer;">
   Yearly wise
  </button>
<br><br/>
</div>

<!-- ✅ DevTools Block -->
<div id="blockScreen" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:black; z-index:99999;"></div>

</body>
</html>
